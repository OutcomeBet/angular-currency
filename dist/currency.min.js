!function(){var n=angular.module("nn.currency",[]);n.constant("nnCurrencyRate",1),n.constant("nnCurrencySymbol",!1),n.filter("nnCurrency",["nnCurrencyRate","nnCurrencySymbol",function(n,r){return function(e){return angular.isNumber(e)?(e/n).toFixed(2)+(r?" "+r:""):""}}]),n.filter("nnCurrencyNormalize",[function(){return function(n){return angular.isString(n)&&(n=parseFloat(n)),angular.isNumber(n)?n.toFixed(2):""}}]),n.filter("nnCurrencyToCoins",["nnCurrencyRate",function(n){return function(r){return angular.isString(r)&&(r=parseFloat(r)),angular.isNumber(r)?r*n:NaN}}]),n.directive("nnCurrency",["nnCurrencyFilter","nnCurrencyRate",function(n,r){return{require:"?ngModel",link:function(e,u,t,i){u.bind("blur",function(){u.val(n(i.$modelValue))});var a=i.$isEmpty;i.$isEmpty=function(n){return a(n)},i.$formatters.push(function(r){return"undefined"==typeof r?r:parseFloat(n(r))}),i.$parsers.push(function(n){if("undefined"==typeof n||null===n)return n;if("number"==typeof n&&(n=n.toString()),n=n.replace(/[^\-0-9.]/g,""),""===n)return null;var e=parseFloat(n);return angular.isNumber(e)?Math.round(e*r):void 0})}}}])}();